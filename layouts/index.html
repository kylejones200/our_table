{{ define "main" }}
<div class="container">
    <header class="hero">
        <h1>{{ .Title }}</h1>
        <p class="lead">{{ .Params.description | default .Site.Params.description }}</p>
    </header>

    <main>
        {{ .Content }}
        
        <section class="quick-actions">
            <div class="action-cards">
                <div class="action-card">
                    <h3>üõí Shopping List Generator</h3>
                    <p>Select multiple recipes and generate a smart shopping list with combined ingredients.</p>
                    <a href="/shopping-list/" class="btn btn-primary">Create Shopping List</a>
                </div>
                <div class="action-card">
                    <h3>üìñ Browse Recipes</h3>
                    <p>Explore our collection of delicious recipes organized by category.</p>
                    <a href="/recipes/" class="btn">View All Recipes</a>
                </div>
            </div>
        </section>

        <section class="recent-recipes">
            <h2>Recent Recipes</h2>
            <div class="recipe-grid">
                {{ range first 6 (where .Site.RegularPages "Type" "recipe") }}
                <article class="recipe-card" data-allergens="{{ if .Params.allergens }}{{ .Params.allergens | jsonify }}{{ else }}[]{{ end }}">
                    {{ if .Params.image }}
                    <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" loading="lazy">
                    {{ end }}
                    <div class="recipe-content">
                        <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
                        <p>{{ .Params.description }}</p>
                        <div class="recipe-meta">
                            {{ if .Params.total_time }}<span>‚è±Ô∏è {{ .Params.total_time }}</span>{{ end }}
                            {{ if .Params.yield }}<span>üçΩÔ∏è {{ .Params.yield }}</span>{{ end }}
                        </div>
                    </div>
                </article>
                {{ end }}
            </div>
            <p class="text-center">
                <a href="/recipes/" class="btn">View All Recipes</a>
            </p>
        </section>
    </main>
</div>
{{ end }}
